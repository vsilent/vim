<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Если PHP установлен как модуль Apache</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="security.cgi-bin.shell.html">Вариант 4: PHP вне дерева веб-документов</a></div>
 <div class="next" style="float: right;"><a href="security.filesystem.html">Безопасность файловой системы</a></div>
 <div class="up"><a href="security.html">Безопасность</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
   <h1>Если PHP установлен как модуль Apache</h1>

   <p class="simpara">
    Когда PHP используется как модуль Apache, он наследует права пользователя,
    с которыми был запущен веб-сервер (обычно это пользователь &#039;nobody&#039;).	
    Это влияет на обеспечение безопасности и реализацию авторизации.
    Например, если вы используете базу данных, которая не имеет встроенного 
    механизма разграничения доступа, вам прийдется обеспечить доступ к
    БД для пользователя &#039;nobody&#039;. В таком случае зловредный скрипт может
    получить доступ к базе данных и модифицировать ее, даже не зная  логина 
    и пароля. Вполне возможна ситуация, когда веб-паук неверными
    запросами страницы администратора базы данных уничтожит все данные
    или даже структуру БД. Вы можете избежать такой ситуации при помощи авторизации Apache
    или разработав собственную модель доступа, используя LDAP, файлы <var class="filename">.htaccess</var>  или
    любые другие технологии, внедряя соответствующий код в ваши скрипты.
   </p>
   <p class="simpara">
    Достаточно часто используются такие настройки безопасности, при которых
    PHP (имеется ввиду пользователь, с правами которого выполняется Apache)
    имеет минимальные привелегии, например отсутствует возможность записи
    в пользовательские директории. Или, например, отсутствует возможность
    работать с базой данных. При этом система безопасности не позволяет
    записывать как &quot;хорошие&quot;, так и &quot;плохие&quot; файлы, аналогично позволяет производить
    как &quot;хорошие&quot;, так и &quot;плохие&quot; транзакции.
   </p>
   <p class="simpara">
    Распространенной ошибкой является запуск Apache с правами суперпользователя
    или любое другое расширение полномочий веб-сервера.
   </p>
   <p class="simpara">
    Расширение привилегий веб-сервера до полномочий угрожает работоспособности
    всей системы, такие команды, как sudo, chroot должны выполняться исключительно теми,
    кто считает себя профессионалами в вопросах безопасности.
   </p>
   <p class="simpara">
    Существует несколько простых решений. Используя 
    <a href="features.safe-mode.html#ini.open-basedir" class="link">open_basedir</a>,
    вы можете ограничить дерево доступных директорий для PHP.
    Вы так же можете определить область доступа Apache, ограничив
    все веб-сервисы не-пользовательскими или не-системными файлами.
   </p>
  </div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="security.cgi-bin.shell.html">Вариант 4: PHP вне дерева веб-документов</a></div>
 <div class="next" style="float: right;"><a href="security.filesystem.html">Безопасность файловой системы</a></div>
 <div class="up"><a href="security.html">Безопасность</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
