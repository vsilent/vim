<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Экранирует символы в регулярных выражениях</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.preg-match.html">preg_match</a></div>
 <div class="next" style="float: right;"><a href="function.preg-replace-callback.html">preg_replace_callback</a></div>
 <div class="up"><a href="ref.pcre.html">PCRE</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.preg-quote" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">preg_quote</h1>
    <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose dc-title">preg_quote — Экранирует символы в регулярных выражениях</p>

   </div>
   <div class="refsect1 unknown">
    <h3 class="title">Описание</h3>
     <div class="methodsynopsis dc-description">
      <span class="type">string</span> <span class="methodname"><b><b>preg_quote</b></b></span>
       ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$str</tt></span>
     [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$delimiter</tt></span>
     ] )</div>

    <p class="para rdfs-comment">
     Функция <b>preg_quote()</b> принимает строку <i><tt class="parameter">str</tt></i>

     и добавляет обратный слеш перед каждым служебным символом.
     Это бывает полезно, если в составлении шаблона участвуют строковые переменные, 
     значение которых в процессе работы скрипта может меняться.
    </p>
    <p class="para">
     В случае, если дополнительный параметр <i><tt class="parameter">delimiter</tt></i>
 указан,
     он будет также экранироваться. Это удобно для экранирования ограничителя,
     который используется в PCRE функциях. Наиболее распространенным ограничителем
     является символ &#039;/&#039;.
     </p>
    <p class="para">
     В регулярных выражениях служебными считаются следующие символы:
     <i>. \\ + * ? [ ^ ] $ ( ) { } = ! &lt; &gt; | :</i>
    </p>
    <p class="para">
     <div class="example">
      <p><b>Пример #1 <b>preg_quote()</b> пример</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"$40&nbsp;for&nbsp;a&nbsp;g3/400"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"/"</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;возвращает&nbsp;\$40&nbsp;for&nbsp;a&nbsp;g3\/400<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
    <p class="para">
     <div class="example">
      <p><b>Пример #2 Выделение курсивом слова в тексте</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;В&nbsp;данном&nbsp;примере&nbsp;preg_quote($word)&nbsp;используется,&nbsp;чтобы<br />//&nbsp;избежать&nbsp;трактовки&nbsp;символа&nbsp;'*'&nbsp;как&nbsp;спец.&nbsp;символа.<br /><br /></span><span style="color: #0000BB">$textbody&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"This&nbsp;book&nbsp;is&nbsp;*very*&nbsp;difficult&nbsp;to&nbsp;find."</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$word&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"*very*"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$textbody&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_replace&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"/"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">preg_quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$word</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"/"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&lt;i&gt;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$word&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"&lt;/i&gt;"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$textbody</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
	<blockquote><p><b class="note">Замечание</b>: <span class="simpara">Эта функция безопасна
для обработки данных в двоичной форме.</span></p></blockquote>
   </div>

  </div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="function.preg-match.html">preg_match</a></div>
 <div class="next" style="float: right;"><a href="function.preg-replace-callback.html">preg_replace_callback</a></div>
 <div class="up"><a href="ref.pcre.html">PCRE</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
