<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Reflection</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.oop5.object-comparison.html">Сравнение объектов</a></div>
 <div class="next" style="float: right;"><a href="language.oop5.typehinting.html">Контроль типа</a></div>
 <div class="up"><a href="language.oop5.html">Классы и объекты (PHP 5)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.reflection" class="sect1">
  <h2 class="title">Reflection</h2>
  <div id="language.oop5.reflection.toc" class="sect2">
   <h3 class="title">Содержание</h3>
   <ul class="simplelist">
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.introduction" class="link">Введение</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflector" class="link">Интерфейс Reflector</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionexception" class="link">Класс ReflectionException</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionfunction" class="link">Класс ReflectionFunction</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionparameter" class="link">Класс ReflectionParameter</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionclass" class="link">Класс ReflectionClass</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionobject" class="link">Класс ReflectionObject</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionmethod" class="link">Класс ReflectionMethod</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionproperty" class="link">Класс ReflectionProperty</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.reflectionextension" class="link">Класс ReflectionExtension</a></li>
    <li class="member"><a href="language.oop5.reflection.html#language.oop5.reflection.extending" class="link">Наследование классов Reflection</a></li>
   </ul>
  </div>
  <div id="language.oop5.reflection.introduction" class="sect2">
   <h3 class="title">Введение</h3>
   <p class="para">
    В PHP 5 имеется полный набор Reflection API, который предоставляет
    возможность проводить реверс-инжиниринг классов, интерфейсов, функций,
    методов, а также расширений. В дополнение к этому, Reflection API
    предоставляет средства для извлечения комментариев для функций, классов
    и методов.
   </p>
   <p class="para"> 
    Reflection API - это объектно-ориентированное расширение для Zend Engine,
    состоящее из следующих классов:
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Reflection&nbsp;</span><span style="color: #007700">{&nbsp;}<br />interface&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionException&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Exception&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionFunction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionParameter&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionObject&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br />class&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Более подробно эти классы рассматриваются в следующих главах.
    </span>
   </p></blockquote>
   <p class="para">
    <div class="example">
     <p><b>Пример #1 Простой пример использования Reflection API</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'Exception'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>Результат выполнения данного примера:</p></div>
     <div class="example-contents"><pre>
<div class="cdata"><pre>
Class [ &lt;internal&gt; class Exception ] {

  - Constants [0] {
  }

  - Static properties [0] {
  }

  - Static methods [0] {
  }

  - Properties [6] {
    Property [ &lt;default&gt; protected $message ]
    Property [ &lt;default&gt; private $string ]
    Property [ &lt;default&gt; protected $code ]
    Property [ &lt;default&gt; protected $file ]
    Property [ &lt;default&gt; protected $line ]
    Property [ &lt;default&gt; private $trace ]
  }

  - Methods [9] {
    Method [ &lt;internal&gt; final private method __clone ] {
    }

    Method [ &lt;internal, ctor&gt; public method __construct ] {

      - Parameters [2] {
        Parameter #0 [ &lt;optional&gt; $message ]
        Parameter #1 [ &lt;optional&gt; $code ]
      }
    }

    Method [ &lt;internal&gt; final public method getMessage ] {
    }

    Method [ &lt;internal&gt; final public method getCode ] {
    }

    Method [ &lt;internal&gt; final public method getFile ] {
    }

    Method [ &lt;internal&gt; final public method getLine ] {
    }

    Method [ &lt;internal&gt; final public method getTrace ] {
    }

    Method [ &lt;internal&gt; final public method getTraceAsString ] {
    }

    Method [ &lt;internal&gt; public method __toString ] {
    }
  }
}
</pre></div>
     </pre></div>
    </div>
   </p>
  </div>
  <div id="language.oop5.reflection.reflector" class="sect2">
   <h3 class="title"><span class="classname">Reflector</span></h3>
   <p class="para">
    <span class="classname">Reflector</span> - это интерфейс, который реализуется
    всеми экспортируемыми классами Reflection.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>
  <div id="language.oop5.reflection.reflectionexception" class="sect2">
   <h3 class="title"><span class="classname">ReflectionException</span></h3>
   <p class="para">
    <span class="classname">ReflectionException</span> наследует стандартный класс
    <a href="language.exceptions.html" class="link">Exception</a> и выбрасывается
    Reflection API, он не реализует никаких специальных методов или свойств.
   </p>
  </div>
  <div id="language.oop5.reflection.reflectionfunction" class="sect2">
   <h3 class="title"><span class="classname">ReflectionFunction</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionFunction</span> позволяет 
    проводить реверс-инжиниринг функций.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionFunction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDisabled</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invoke</span><span style="color: #007700">([</span><span style="color: #0000BB">mixed&nbsp;args&nbsp;</span><span style="color: #007700">[,&nbsp;...]])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invokeArgs</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;returnsReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionParameter</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfRequiredParameters</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    Родительский класс <span class="classname">ReflectionFunctionAbstract</span>
    имеет такие же методы, за исключением <b>invoke()</b>,
    <b>invokeArgs()</b>, <b>export()</b> и
    <b>isDisabled()</b>.
   </p>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     <b>getNumberOfParameters()</b> и
     <b>getNumberOfRequiredParameters()</b> были добавлены в
     PHP 5.0.3, а <b>invokeArgs()</b> был
     добавлен в PHP 5.1.0.
    </span>
   </p></blockquote>
   <p class="para">
    Для анализа функции необходимо создать экземпляр класса
    <span class="classname">ReflectionFunction</span>. 
   </p>
   <div class="example">
    <p><b>Пример #2 Использование класса <span class="classname">ReflectionFunction</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Простой&nbsp;счетчик<br />&nbsp;*<br />&nbsp;*&nbsp;@return&nbsp;&nbsp;&nbsp;&nbsp;int<br />&nbsp;*/<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">counter</span><span style="color: #007700">()&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionFunction<br /></span><span style="color: #0000BB">$func&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'counter'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;основной&nbsp;информации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;Функция&nbsp;%s&nbsp;'%s'\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;объявлена&nbsp;в&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;строки&nbsp;с&nbsp;%d&nbsp;по&nbsp;%d\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">()<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;комментария&nbsp;документации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Документация:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;статических&nbsp;переменных,&nbsp;если&nbsp;они&nbsp;есть<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$statics&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">())<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Статическая&nbsp;переменная:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Вызов&nbsp;функции<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Результат&nbsp;вызова:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$func</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">invoke</span><span style="color: #007700">());<br /><br /><br />echo&nbsp;</span><span style="color: #DD0000">"\nReflectionFunction::export()&nbsp;результат:\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">::</span><span style="color: #0000BB">export</span><span style="color: #007700">(</span><span style="color: #DD0000">'counter'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Метод <b>invoke()</b> принимает переменное число
     аргументов, которые передаются в функцию, также, как в
     <a href="function.call-user-func.html" class="function">call_user_func()</a>.
    </span>
   </p></blockquote>
  </div>
  <div id="language.oop5.reflection.reflectionparameter" class="sect2">
   <h3 class="title"><span class="classname">ReflectionParameter</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionParameter</span> возвращает
    информацию о параметрах функции или метода.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionParameter&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;</span><span style="color: #007700">function,&nbsp;</span><span style="color: #0000BB">string&nbsp;parameter</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">function,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;parameter</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPassedByReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isArray</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;allowsNull</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPassedByReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isOptional</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDefaultValueAvailable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getDefaultValue</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    
     <b>getDefaultValue()</b>,
     <b>isDefaultValueAvailable()</b> и
     <b>isOptional()</b> были добавлены в PHP 5.0.3,
     а <b>isArray()</b> был добавлен в PHP 5.1.0.
     <b>getDeclaringFunction()</b> и
     <b>getPosition()</b> были добавлены в PHP 5.2.3.
    <br />
   </p></blockquote>
   <p class="para">
    Для анализа параметров функции необходимо создать экземпляр класса
    <span class="classname">ReflectionFunction</span> или <span class="classname">ReflectionMethod</span>
    и затем использовать метод <b>getParameters()</b> для получения
    массива параметров.
   </p>
   <div class="example">
    <p><b>Пример #3 Использование класса <span class="classname">ReflectionParameter</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(</span><span style="color: #0000BB">Exception&nbsp;$a</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">ReflectionFunction&nbsp;$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)&nbsp;{&nbsp;}<br />function&nbsp;</span><span style="color: #0000BB">abc</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionFunction<br />//&nbsp;с&nbsp;параметром,&nbsp;заданным&nbsp;из&nbsp;командной&nbsp;строки.<br /></span><span style="color: #0000BB">$reflect&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$reflect</span><span style="color: #007700">;<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$reflect</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"--&nbsp;Параметр&nbsp;#%d:&nbsp;%s&nbsp;{\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Класс:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Допускать&nbsp;NULL:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Передан&nbsp;по&nbsp;ссылке:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;Обязательный?:&nbsp;%s\n"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"}\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClass</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">allowsNull</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPassedByReference</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$param</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isOptional</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'да'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'нет'<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>
  <div id="language.oop5.reflection.reflectionclass" class="sect2">
   <h3 class="title"><span class="classname">ReflectionClass</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionClass</span> позволяет
    проводить реверс-инжиниринг классов и интерфейсов.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInstantiable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasConstant</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;hasProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;getConstructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;getMethod</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getMethods</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;getProperty</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionProperty</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getConstant</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getInterfaces</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInterface</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isAbstract</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isFinal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">stdclass&nbsp;newInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">stdclass&nbsp;newInstanceArgs</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getParentClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isSubclassOf</span><span style="color: #007700">(</span><span style="color: #0000BB">ReflectionClass&nbsp;</span><span style="color: #007700">class)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getStaticPropertyValue</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name&nbsp;</span><span style="color: #007700">[,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">default])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;setStaticPropertyValue</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getDefaultProperties</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isIterateable</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;implementsInterface</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;getExtension</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getExtensionName</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     <b>hasConstant()</b>, <b>hasMethod()</b>,
     <b>hasProperty()</b>, <b>getStaticPropertyValue()</b>
     и <b>setStaticPropertyValue()</b> были добавлены в PHP 5.1.0, а
     <b>newInstanceArgs()</b> был добавлен в PHP 5.1.3.
    </span>
   </p></blockquote>
   <p class="para">
   	Для анализа класса необходимо создать экземпляр класса
    <span class="classname">ReflectionClass</span>. 
   </p>
   <div class="example">
    <p><b>Пример #4 Использование класса <span class="classname">ReflectionClass</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">Serializable<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">Object<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Класс&nbsp;счетчик<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Counter&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Object&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Serializable&nbsp;<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">START&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Counter</span><span style="color: #007700">::</span><span style="color: #0000BB">START</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Вызвать&nbsp;счетчик<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@access&nbsp;&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;&nbsp;int<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$c</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionClass<br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'Counter'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;основной&nbsp;информации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;%s%s%s&nbsp;%s&nbsp;'%s'&nbsp;[extends&nbsp;%s]\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;объявлен&nbsp;в&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;строки&nbsp;с&nbsp;%d&nbsp;по&nbsp;%d\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;имеет&nbsp;модификаторы&nbsp;%d&nbsp;[%s]\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAbstract</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;abstract'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isFinal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;final'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInterface</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'interface'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'class'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getParentClass</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()))<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;комментария&nbsp;из&nbsp;документации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Документация:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;тех&nbsp;интерфейсов,&nbsp;которые&nbsp;реализует&nbsp;этот&nbsp;класс<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Интерфейсы:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInterfaces</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;констант&nbsp;класса<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Константы:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;свойств&nbsp;класса<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Свойства:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getProperties</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;методов&nbsp;класса<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Методы:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMethods</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Если&nbsp;есть&nbsp;возможность&nbsp;создать&nbsp;экземпляр&nbsp;класса,&nbsp;то&nbsp;создаем&nbsp;его<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstantiable</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$counter&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">newInstance</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'---&gt;&nbsp;$counter&nbsp;инстанцирован?&nbsp;'</span><span style="color: #007700">;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'да'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'нет'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\n---&gt;&nbsp;new&nbsp;Object()&nbsp;инстанцирован?&nbsp;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInstance</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">Object</span><span style="color: #007700">())&nbsp;?&nbsp;</span><span style="color: #DD0000">'да'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'нет'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Метод <b>newInstance()</b> принимает переменное число
     аргументов, которые передаются в функцию, также, как в 
     <a href="function.call-user-func.html" class="function">call_user_func()</a>.
    </span>
   </p></blockquote>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     <i>$class = new ReflectionClass(&#039;Foo&#039;); $class-&gt;isInstance($arg)</i>
     эквивалентно <i>$arg instanceof Foo</i> или 
     <i>is_a($arg, &#039;Foo&#039;)</i>.
    </span>
   </p></blockquote>
  </div>
  <div id="language.oop5.reflection.reflectionobject" class="sect2">
   <h3 class="title"><span class="classname">ReflectionObject</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionObject</span> позволяет
    проводить реверс-инжиниринг объектов.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionObject&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;object</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>
  <div id="language.oop5.reflection.reflectionmethod" class="sect2">
   <h3 class="title"><span class="classname">ReflectionMethod</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionMethod</span> позволяет
    проводить реверс-инжиниринг методов.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunctionAbstract&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invoke</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object&nbsp;</span><span style="color: #007700">[,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;args&nbsp;</span><span style="color: #007700">[,&nbsp;...]])<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;invokeArgs</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">,&nbsp;array&nbsp;</span><span style="color: #0000BB">args</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isFinal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isAbstract</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPublic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPrivate</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isProtected</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isStatic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isConstructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDestructor</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Унаследовано&nbsp;из&nbsp;ReflectionFunctionAbstract<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isInternal</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isUserDefined</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getFileName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getStartLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getEndLine</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;returnsReference</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionParameter</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfParameters</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getNumberOfRequiredParameters</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    Для анализа метода класса необходимо создать экземпляр класса
    <span class="classname">ReflectionMethod</span>. 
   </p>
   <div class="example">
    <p><b>Пример #5 Использование класса <span class="classname">ReflectionMethod</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Counter<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Увеличение&nbsp;счетчика<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@final<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@static<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@access&nbsp;&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;&nbsp;int<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">increment</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;++</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$c</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionMethod<br /></span><span style="color: #0000BB">$method&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionMethod</span><span style="color: #007700">(</span><span style="color: #DD0000">'Counter'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'increment'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;основной&nbsp;информации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;%s%s%s%s%s%s%s&nbsp;метод&nbsp;'%s'&nbsp;(which&nbsp;is&nbsp;%s)\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;объявлен&nbsp;в&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;строки&nbsp;с&nbsp;%d&nbsp;по&nbsp;%d\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;имеет&nbsp;модификаторы&nbsp;%d[%s]\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isInternal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'internal'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'user-defined'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isAbstract</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;abstract'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isFinal</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;final'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPublic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;public'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrivate</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;private'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isProtected</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;protected'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isStatic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;static'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isConstructor</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'the&nbsp;constructor'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'a&nbsp;regular&nbsp;method'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStartLine</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getEndline</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()))<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;комментария&nbsp;из&nbsp;документации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Документация:\n&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getDocComment</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;статических&nbsp;переменных,&nbsp;если&nbsp;они&nbsp;есть<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getStaticVariables</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Статическая&nbsp;переменная:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$statics</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Вызов&nbsp;метода<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Результат&nbsp;вызова:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$method</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">invoke</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Попытка вызова закрытого, защищенного или абстрактного метода приведет
     к выбросу исключения из метода <b>invoke()</b>.
    </span>
   </p></blockquote>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     При вызове статических методов нужно передать NULL в
     качестве первого аргумента <b>invoke()</b>. Для
     нестатических методов нужно передавать экземпляр класса.
    </span>
   </p></blockquote>
  </div>
  <div id="language.oop5.reflection.reflectionproperty" class="sect2">
   <h3 class="title"><span class="classname">ReflectionProperty</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionProperty</span> позволяет
    проводить реверс-инжиниринг свойств класса.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionProperty&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">mixed&nbsp;</span><span style="color: #007700">class,&nbsp;</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPublic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isPrivate</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isProtected</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isStatic</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">bool&nbsp;isDefault</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">int&nbsp;getModifiers</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">mixed&nbsp;getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">stdclass&nbsp;object</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mixed&nbsp;value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass&nbsp;getDeclaringClass</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getDocComment</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     <b>getDocComment()</b> был добавлен в PHP 5.1.0.
    </span>
   </p></blockquote>
   <p class="para">
    Для анализа свойства класса необходимо создать экземпляр класса
    <span class="classname">ReflectionProperty</span>. 
   </p>
   <div class="example">
    <p><b>Пример #6 Использование класса <span class="classname">ReflectionProperty</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">String<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$length&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionProperty<br /></span><span style="color: #0000BB">$prop&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionProperty</span><span style="color: #007700">(</span><span style="color: #DD0000">'String'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'length'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;основной&nbsp;информации&nbsp;о&nbsp;свойстве&nbsp;класса<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"===&gt;&nbsp;%s%s%s%s&nbsp;свойство&nbsp;'%s'&nbsp;(которое&nbsp;было&nbsp;%s)\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;имеет&nbsp;модификаторы&nbsp;%s\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPublic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;public'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isPrivate</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;private'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isProtected</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;protected'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isStatic</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'&nbsp;static'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isDefault</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #DD0000">'объявлено&nbsp;во&nbsp;время&nbsp;компиляции'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'создано&nbsp;во&nbsp;время&nbsp;выполнения'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">()),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />);<br /><br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;String<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">String</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Получение&nbsp;текущего&nbsp;значения<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Значение:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Изменение&nbsp;значения<br /></span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"---&gt;&nbsp;Установка&nbsp;значения&nbsp;10,&nbsp;новое&nbsp;значение&nbsp;равно:&nbsp;"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValue</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Дамп&nbsp;объекта<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Попытка вызова закрытого или защищенного свойства класса приведет
     к выбросу исключения.
    </span>
   </p></blockquote>
  </div>
  <div id="language.oop5.reflection.reflectionextension" class="sect2">
   <h3 class="title"><span class="classname">ReflectionExtension</span></h3>
   <p class="para">
    Класс <span class="classname">ReflectionExtension</span> позволяет
    проводить реверс-инжиниринг расширений. Получить список всех загруженных 
    расширений можно при помощи <a href="function.get-loaded-extensions.html" class="function">get_loaded_extensions()</a>.
   </p>
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ReflectionExtension&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Reflector&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;private&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">void&nbsp;__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">string&nbsp;export</span><span style="color: #007700">(</span><span style="color: #0000BB">string&nbsp;name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">bool&nbsp;</span><span style="color: #007700">return)<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getName</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;getVersion</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionFunction</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">ReflectionClass</span><span style="color: #007700">[]&nbsp;</span><span style="color: #0000BB">getClasses</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;array&nbsp;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">string&nbsp;info</span><span style="color: #007700">()<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    Для анализа расширения необходимо создать экземпляр класса
   	<span class="classname">ReflectionExtension</span>. Затем вы сможете вызвать
   	любой из методов, описанных выше.
   </p>
   <div class="example">
    <p><b>Пример #7 Использование класса <span class="classname">ReflectionExtension</span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Создание&nbsp;экземпляра&nbsp;класса&nbsp;ReflectionProperty<br /></span><span style="color: #0000BB">$ext&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ReflectionExtension</span><span style="color: #007700">(</span><span style="color: #DD0000">'standard'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;основной&nbsp;информации<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Имя&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Версия&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Функции&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Константы&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Директивы&nbsp;INI&nbsp;:&nbsp;[%d]&nbsp;%s\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"Классы&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;[%d]&nbsp;%s\n"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">(),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">()&nbsp;?&nbsp;</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getVersion</span><span style="color: #007700">()&nbsp;:&nbsp;</span><span style="color: #DD0000">'NO_VERSION'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFunctions</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getConstants</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getINIEntries</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sizeof</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">()),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$ext</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClassNames</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>
  <div id="language.oop5.reflection.extending" class="sect2">
   <h3 class="title">Наследование классов Reflection</h3>
   <p class="para">
    В случае, если вам требуется создать специализированные версии
    встроенных классов (например, для подсветки HTML при экспорте 
    использовать свойства классов может быть более удобно, чем методы), 
    вы можете наследовать их.
   </p>
   <div class="example">
    <p><b>Пример #8 Наследование встроенных классов</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Свой&nbsp;класс&nbsp;Reflection_Method<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">My_Reflection_Method&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionMethod<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$visibility&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">visibility&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Reflection</span><span style="color: #007700">::</span><span style="color: #0000BB">getModifierNames</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getModifiers</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Демо-класс&nbsp;#1<br />&nbsp;*<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">T&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Демо-класс&nbsp;#2<br />&nbsp;*<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">U&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">T&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">x</span><span style="color: #007700">()&nbsp;{}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Вывод&nbsp;информации<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">My_Reflection_Method</span><span style="color: #007700">(</span><span style="color: #DD0000">'U'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'x'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <blockquote><p><b class="note">Замечание</b>: 
    <span class="simpara">
     Внимание! Если вы переписываете конструктор, то не забудьте вызывать
     конструктор родителя _перед_ любым кодом, который вы затем добавите.
     В случае невыполнения этого условия результат будет следующим: 
     <i>
      Fatal error: Internal error: Failed to retrieve the reflection object
     </i>
    </span>
   </p></blockquote>
  </div>
 </div><hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="language.oop5.object-comparison.html">Сравнение объектов</a></div>
 <div class="next" style="float: right;"><a href="language.oop5.typehinting.html">Контроль типа</a></div>
 <div class="up"><a href="language.oop5.html">Классы и объекты (PHP 5)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
