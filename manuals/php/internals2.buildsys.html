<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>The PHP 5 build system</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 </head>
 <body><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="internals2.counter.function.counter-get-named.html">counter_get_named</a></div>
 <div class="next" style="float: right;"><a href="internals2.buildsys.skeleton.html">The ext_skel script</a></div>
 <div class="up"><a href="internals2.html">PHP at the Core: A Hacker's Guide to the Zend Engine</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div>
  
  <h1>The PHP 5 build system</h1>
<h2>Содержание</h2><ul class="chunklist chunklist_chapter"><li><a href="internals2.buildsys.skeleton.html">The ext_skel script</a></li><li><a href="internals2.buildsys.configunix.html">Talking to the UNIX build system: config.m4</a></li><li><a href="internals2.buildsys.configwin.html">Talking to the Windows build system: config.w32</a></li></ul>


  <p class="para">
   With all the functionality and flexibility available in PHP 5, it is no
   surprise that it consists of several thousand files and over one million
   lines of source code. Equally unsurprising is the necessity of a build
   system to manage so much data. This section describes how to set PHP up for
   extension development, the layout of an extension within the PHP source
   tree, and how to interface your extension with the build system.
  </p>

  

 <div id="internals2.buildsys.environment" class="sect1">
  <h2 class="title">Building PHP for extension development</h2>
  <p class="para">
   In a typical PHP installation, the need for high performance almost always
   results in optimization at the cost of debugging facilities. This is a
   reasonable tradeoff for production use, but when developing an extension it
   falls short. What we need is a build of PHP which will give us some hints
   what has gone wrong when something does.
  </p>
  
  <p class="para">
   The Zend Engine provides a memory manager which is capable of tracking
   memory leaks in extensions and providing detailed debugging information.
   This tracking is disabled by default, as is thread-safety. To turn them
   on, pass the <span class="option">--enable-debug</span> and
   <i>--enable-maintainer-zts</i> options to
   <var class="filename">configure</var>, along with whatever options you typically
   use. For instructions on building PHP from source, see the instructions at
   <a href="install.general.html" class="xref">Общие инструкции по установке</a>. A typical <var class="filename">configure</var>
   line might look like this:
   <div class="example-contents">
<div class="cdata"><pre>
$ ./configure --prefix=/where/to/install/php --enable-debug --enable-maintainer-zts --enable-cgi --enable-cli --with-mysql=/path/to/mysql
</pre></div>
   </div>

  </p>
 </div>





  

 



  

 



  

 



  
 </div>
<hr /><div style="text-align: center;">
 <div class="prev" style="float: left;"><a href="internals2.counter.function.counter-get-named.html">counter_get_named</a></div>
 <div class="next" style="float: right;"><a href="internals2.buildsys.skeleton.html">The ext_skel script</a></div>
 <div class="up"><a href="internals2.html">PHP at the Core: A Hacker's Guide to the Zend Engine</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
